// Translation helper for JavaScript
// This file provides client-side translations that match the server-side Symfony translations

// TODO: check if this file is used and usefull

const translations = {
    fr: {
        'courses.view': 'Voir',
        'courses.edit': 'Modifier',
        'courses.delete': 'Supprimer',
        'courses.info.runners': 'coureur(s)',
        'courses.info.no_parcours': 'Aucun parcours',
        'courses.status.active': 'Active',
        'courses.no_courses': 'Aucune course disponible.',
        'courses.create_course': 'Créer une course',
        'courses.error_loading': 'Erreur de chargement des courses',
        'courses.messages.created': 'Course créée avec succès !',
        'courses.messages.deleted': 'Course supprimée avec succès !',
        'courses.messages.confirm_delete': 'Êtes-vous sûr de vouloir supprimer la course "%name%" ?',
        'courses.messages.error_create': 'Erreur lors de la création',
        'courses.messages.error_delete': 'Erreur lors de la suppression',
        'courses.modal.create_title': 'Créer une Nouvelle Course',
        'courses.modal.name_label': 'Nom de la course',
        'courses.modal.parcours_label': 'Parcours associé',
        'courses.modal.parcours_select': 'Sélectionner un parcours...',
        'courses.modal.nb_runners_label': 'Nombre de coureurs',
        'courses.modal.cancel': 'Annuler',
        'courses.modal.create': 'Créer',
        
        'parcours.view': 'Voir',
        'parcours.edit': 'Modifier',
        'parcours.delete': 'Supprimer',
        'parcours.finish': 'Terminer',
        'parcours.finished': 'Terminé',
        'parcours.new_parcours': 'Nouveau Parcours',
        'parcours.search_placeholder': 'Rechercher...',
        'parcours.loading': 'Chargement des parcours...',
        'parcours.download_all_qr': 'Télécharger tout (PDF)',
        'parcours.qr_codes': 'Qr Codes',
        'parcours.info.beacons': 'balise(s)',
        'parcours.status.in_creation': 'En cours de création',
        'parcours.status.ready': 'Prêt pour les sessions',
        'parcours.status.completed': 'Complété',
        'parcours.no_parcours': 'Aucun parcours disponible.',
        'parcours.create_parcours': 'Créer un parcours',
        'parcours.error_loading': 'Erreur de chargement des parcours',
        'parcours.messages.updated': 'Modifications enregistrées avec succès !',
        'parcours.messages.deleted': 'Parcours supprimé avec succès !',
        'parcours.messages.confirm_delete': 'Êtes-vous sûr de vouloir supprimer le parcours "%name%" ?',
        'parcours.messages.error_update': 'Erreur lors de la sauvegarde',
        'parcours.messages.error_delete': 'Erreur lors de la suppression',
        'parcours.description.default': 'Départ à l\'entrée sud sur la table',
        'parcours.status.completed': 'Complété',
        'parcours.info.beacons_count': 'balises',
        'parcours.info.no_boundaries': 'Aucune limite définie',
        'parcours.info.boundaries_defined': 'Limites définies',
        'parcours.beacon': 'Balise',
        'parcours.no_beacons': 'Aucune balise',
        'parcours.no_name': 'Sans nom',
        'parcours.new_beacon': 'Nouvelle balise',
        'parcours.add_beacon': 'Ajouter une balise',
        'parcours.edit_beacon': 'Modifier balise',
        'parcours.delete_beacon_confirm': 'Supprimer la balise',
        'parcours.boundary': 'Limite',
        'parcours.add_boundary_point': 'Ajouter un point',
        'parcours.boundary_instructions': 'Cliquez sur "Ajouter un point" puis sur la carte pour définir les limites.<br><strong>Glissez</strong> les points pour les déplacer, <strong>clic droit</strong> pour supprimer.',
        'parcours.delete_boundary_confirm': 'Supprimer le point de limite',
        'parcours.delete_all_boundaries_confirm': 'Supprimer tous les points de limite ?',
        'parcours.boundary_tooltip_edit': 'Glisser pour déplacer, clic droit pour supprimer',
        'parcours.modal.edit_title': 'Modifier le Parcours',
        'parcours.modal.beacons_title': 'Balises',
        'parcours.modal.qr_codes_title': 'QR Codes du Parcours',
        'parcours.modal.qr_important': 'Important : Ces QR codes sont <strong>permanents et ne changent jamais</strong> pour ce parcours.',
        'parcours.modal.qr_generating': 'Génération des QR codes...',
        'parcours.modal.qr_error': 'Erreur: Impossible de charger la bibliothèque QR Code. Veuillez recharger la page.',
        'parcours.alert.beacon_added': 'IMPORTANT: Nouvelle balise ajoutée!\n\nCette balise a un nouveau QR code qui n\'existait pas avant.\n\n1. Consulter les QR codes mis à jour\n2. Imprimer UNIQUEMENT le nouveau QR code (Balise {id})\n3. Placer ce nouveau QR code sur le terrain\n\nLes autres QR codes restent inchangés!',
        'parcours.alert.beacons_added': 'ATTENTION: {count} balise(s) ont été ajoutées depuis la création.\n\nVous verrez de NOUVEAUX QR codes pour ces balises.\nLes QR codes existants restent inchangés.',
        'parcours.alert.beacons_removed': 'ATTENTION: {count} balise(s) ont été supprimées.\n\nCertains QR codes ne sont plus présents dans la liste.\nNe les réimprimez pas!',
        'parcours.delete_confirm': 'Supprimer le parcours "{name}" ?\n\nCette action est irréversible et supprimera:\n- Le parcours\n- Toutes les balises\n- Toutes les limites\n\nContinuer ?',
        
        'map.available_courses.no_courses': 'Aucun parcours disponible',
        'map.available_courses.beacons': 'balises',
        'map.available_courses.finished': 'Terminé',
        'map.gps_log': 'Position GPS',
        'map.time': 'Heure',
        'map.elapsed': 'Temps écoulé',
        'map.distance': 'Distance',
        'map.status': 'Statut',
        'map.valid': 'Valide',
        'map.invalid': 'Invalide'
    },
    en: {
        'courses.view': 'View',
        'courses.edit': 'Edit',
        'courses.delete': 'Delete',
        'courses.info.runners': 'runner(s)',
        'courses.info.no_parcours': 'No course',
        'courses.status.active': 'Active',
        'courses.no_courses': 'No courses available.',
        'courses.create_course': 'Create a course',
        'courses.error_loading': 'Error loading courses',
        'courses.messages.created': 'Course created successfully!',
        'courses.messages.deleted': 'Course deleted successfully!',
        'courses.messages.confirm_delete': 'Are you sure you want to delete the course "%name%"?',
        'courses.messages.error_create': 'Error creating course',
        'courses.messages.error_delete': 'Error deleting course',
        'courses.modal.create_title': 'Create a New Course',
        'courses.modal.name_label': 'Course name',
        'courses.modal.parcours_label': 'Associated course',
        'courses.modal.parcours_select': 'Select a course...',
        'courses.modal.nb_runners_label': 'Number of runners',
        'courses.modal.cancel': 'Cancel',
        'courses.modal.create': 'Create',
        
        'parcours.view': 'View',
        'parcours.edit': 'Edit',
        'parcours.delete': 'Delete',
        'parcours.finish': 'Finish',
        'parcours.finished': 'Finished',
        'parcours.new_parcours': 'New Course',
        'parcours.search_placeholder': 'Search...',
        'parcours.loading': 'Loading courses...',
        'parcours.download_all_qr': 'Download all (PDF)',
        'parcours.qr_codes': 'QR Codes',
        'parcours.info.beacons': 'beacon(s)',
        'parcours.status.in_creation': 'In progress',
        'parcours.status.ready': 'Ready for Sessions',
        'parcours.status.completed': 'Completed',
        'parcours.no_parcours': 'No courses available.',
        'parcours.create_parcours': 'Create a course',
        'parcours.error_loading': 'Error loading courses',
        'parcours.messages.updated': 'Changes saved successfully!',
        'parcours.messages.deleted': 'Course deleted successfully!',
        'parcours.messages.confirm_delete': 'Are you sure you want to delete the course "%name%"?',
        'parcours.messages.error_update': 'Error saving',
        'parcours.messages.error_delete': 'Error deleting',
        'parcours.description.default': 'Start at the south entrance on the table',
        'parcours.status.completed': 'Completed',
        'parcours.info.beacons_count': 'beacons',
        'parcours.info.no_boundaries': 'No boundaries defined',
        'parcours.info.boundaries_defined': 'Boundaries defined',
        'parcours.beacon': 'Beacon',
        'parcours.no_beacons': 'No beacons',
        'parcours.no_name': 'No name',
        'parcours.new_beacon': 'New beacon',
        'parcours.add_beacon': 'Add beacon',
        'parcours.edit_beacon': 'Edit beacon',
        'parcours.delete_beacon_confirm': 'Delete beacon',
        'parcours.boundary': 'Boundary',
        'parcours.add_boundary_point': 'Add point',
        'parcours.boundary_instructions': 'Click "Add point" then on the map to define boundaries.<br><strong>Drag</strong> points to move them, <strong>right-click</strong> to delete.',
        'parcours.delete_boundary_confirm': 'Delete boundary point',
        'parcours.delete_all_boundaries_confirm': 'Delete all boundary points?',
        'parcours.boundary_tooltip_edit': 'Drag to move, right-click to delete',
        'parcours.modal.edit_title': 'Edit Course',
        'parcours.modal.beacons_title': 'Beacons',
        'parcours.modal.qr_codes_title': 'Course QR Codes',
        'parcours.modal.qr_important': 'Important: These QR codes are <strong>permanent and never change</strong> for this course.',
        'parcours.modal.qr_generating': 'Generating QR codes...',
        'parcours.modal.qr_error': 'Error: Unable to load QR Code library. Please reload the page.',
        'parcours.alert.beacon_added': 'IMPORTANT: New beacon added!\n\nThis beacon has a new QR code that didn\'t exist before.\n\n1. Check updated QR codes\n2. Print ONLY the new QR code (Beacon {id})\n3. Place this new QR code on the field\n\nOther QR codes remain unchanged!',
        'parcours.alert.beacons_added': 'WARNING: {count} beacon(s) have been added since creation.\n\nYou will see NEW QR codes for these beacons.\nExisting QR codes remain unchanged.',
        'parcours.alert.beacons_removed': 'WARNING: {count} beacon(s) have been removed.\n\nSome QR codes are no longer in the list.\nDo not reprint them!',
        'parcours.delete_confirm': 'Delete course "{name}"?\n\nThis action is irreversible and will delete:\n- The course\n- All beacons\n- All boundaries\n\nContinue?',
        
        'map.available_courses.no_courses': 'No courses available',
        'map.available_courses.beacons': 'beacons',
        'map.available_courses.finished': 'Finished',
        'map.gps_log': 'GPS Position',
        'map.time': 'Time',
        'map.elapsed': 'Elapsed',
        'map.distance': 'Distance',
        'map.status': 'Status',
        'map.valid': 'Valid',
        'map.invalid': 'Invalid'
    },
    eu: {
        'courses.view': 'Ikusi',
        'courses.edit': 'Aldatu',
        'courses.delete': 'Ezabatu',
        'courses.info.runners': 'korrikalari',
        'courses.info.no_parcours': 'Ibilbiderik ez',
        'courses.status.active': 'Aktiboa',
        'courses.no_courses': 'Ez dago lasterketarik eskuragarri.',
        'courses.create_course': 'Sortu lasterketa bat',
        'courses.error_loading': 'Errorea lasterketak kargatzean',
        'courses.messages.created': 'Lasterketa ondo sortu da!',
        'courses.messages.deleted': 'Lasterketa ondo ezabatu da!',
        'courses.messages.confirm_delete': '"%name%" lasterketa ezabatu nahi duzu?',
        'courses.messages.error_create': 'Errorea sortzerakoan',
        'courses.messages.error_delete': 'Errorea ezabatzerakoan',
        'courses.modal.create_title': 'Sortu Lasterketa Berria',
        'courses.modal.name_label': 'Lasterketa izena',
        'courses.modal.parcours_label': 'Lotutako ibilbidea',
        'courses.modal.parcours_select': 'Hautatu ibilbide bat...',
        'courses.modal.nb_runners_label': 'Korrikalarien kopurua',
        'courses.modal.cancel': 'Utzi',
        'courses.modal.create': 'Sortu',
        
        'parcours.view': 'Ikusi',
        'parcours.edit': 'Aldatu',
        'parcours.delete': 'Ezabatu',
        'parcours.finish': 'Amaitu',
        'parcours.finished': 'Amaituta',
        'parcours.new_parcours': 'Ibilbide Berria',
        'parcours.search_placeholder': 'Bilatu...',
        'parcours.loading': 'Ibilbideak kargatzen...',
        'parcours.download_all_qr': 'Deskargatu dena (PDF)',
        'parcours.qr_codes': 'QR Kodeak',
        'parcours.info.beacons': 'baliza(k)',
        'parcours.status.in_creation': 'Sortzen',
        'parcours.status.ready': 'Saiorako prest',
        'parcours.status.completed': 'Osatuta',
        'parcours.no_parcours': 'Ez dago ibilbiderik eskuragarri.',
        'parcours.create_parcours': 'Sortu ibilbide bat',
        'parcours.error_loading': 'Errorea ibilbideak kargatzean',
        'parcours.messages.updated': 'Aldaketak ondo gorde dira!',
        'parcours.messages.deleted': 'Ibilbidea ondo ezabatu da!',
        'parcours.messages.confirm_delete': '"%name%" ibilbidea ezabatu nahi duzu?',
        'parcours.messages.error_update': 'Errorea gordetzerakoan',
        'parcours.messages.error_delete': 'Errorea ezabatzerakoan',
        'parcours.description.default': 'Hasi hego sarreran mahaian',
        'parcours.status.completed': 'Osatuta',
        'parcours.info.beacons_count': 'balizak',
        'parcours.info.no_boundaries': 'Mugarik ez definituta',
        'parcours.info.boundaries_defined': 'Mugak definituta',
        'parcours.beacon': 'Baliza',
        'parcours.no_beacons': 'Balizarik ez',
        'parcours.no_name': 'Izenik gabe',
        'parcours.new_beacon': 'Baliza berria',
        'parcours.add_beacon': 'Gehitu baliza',
        'parcours.edit_beacon': 'Aldatu baliza',
        'parcours.delete_beacon_confirm': 'Ezabatu baliza',
        'parcours.boundary': 'Muga',
        'parcours.add_boundary_point': 'Gehitu puntu bat',
        'parcours.boundary_instructions': 'Klikatu "Gehitu puntu bat" eta gero mapan mugak definitzeko.<br><strong>Arrastatu</strong> puntuak mugitzeko, <strong>eskuin-klik</strong> ezabatzeko.',
        'parcours.delete_boundary_confirm': 'Ezabatu muga puntua',
        'parcours.delete_all_boundaries_confirm': 'Ezabatu muga puntu guztiak?',
        'parcours.boundary_tooltip_edit': 'Arrastatu mugitzeko, eskuin-klik ezabatzeko',
        'parcours.modal.edit_title': 'Aldatu Ibilbidea',
        'parcours.modal.beacons_title': 'Balizak',
        'parcours.modal.qr_codes_title': 'Ibilbidearen QR Kodeak',
        'parcours.modal.qr_important': 'Garrantzitsua: QR kode hauek <strong>iraunkorra dira eta ez dira aldatzen</strong> ibilbide honetarako.',
        'parcours.modal.qr_generating': 'QR kodeak sortzen...',
        'parcours.modal.qr_error': 'Errorea: Ezin izan da QR Kode liburutegia kargatu. Mesedez, kargatu orria berriro.',
        'parcours.alert.beacon_added': 'GARRANTZITSUA: Baliza berria gehitu da!\n\nBaliza honek QR kode berri bat du lehenago ez zegoena.\n\n1. Begiratu eguneratutako QR kodeak\n2. Inprimatu BAKARRIK QR kode berria (Baliza {id})\n3. Jarri QR kode berri hau zelaian\n\nBeste QR kodeak aldatu gabe geratzen dira!',
        'parcours.alert.beacons_added': 'KONTUZ: {count} baliza gehitu dira sortu zenetik.\n\nBaliza hauetarako QR kode BERRIAK ikusiko dituzu.\nLehendik dauden QR kodeak aldatu gabe geratzen dira.',
        'parcours.alert.beacons_removed': 'KONTUZ: {count} baliza ezabatu dira.\n\nZenbait QR kode ez daude zerrendan.\nEz inprimatu berriro!',
        'parcours.delete_confirm': 'Ezabatu "{name}" ibilbidea?\n\nEkintza hau itzulezina da eta ezabatuko ditu:\n- Ibilbidea\n- Baliza guztiak\n- Muga guztiak\n\nJarraitu?',
        
        'map.available_courses.no_courses': 'Ez dago ibilbiderik eskuragarri',
        'map.available_courses.beacons': 'balizak',
        'map.available_courses.finished': 'Amaituta',
        'map.gps_log': 'GPS Posizioa',
        'map.time': 'Ordua',
        'map.elapsed': 'Igarotako denbora',
        'map.distance': 'Distantzia',
        'map.status': 'Egoera',
        'map.valid': 'Baliozkoa',
        'map.invalid': 'Baliogabea'
    }
};

translations.get = function(key, locale = 'fr') {
    return this[locale]?.[key] || this['fr']?.[key] || key;
};

function trans(key, params = {}) {
    const locale = document.documentElement.lang || localStorage.getItem('locale') || 'fr';
    let translation = translations[locale]?.[key] || translations['fr']?.[key] || key;
    
    // Replace parameters
    for (const [param, value] of Object.entries(params)) {
        translation = translation.replace(`%${param}%`, value);
    }
    
    return translation;
}

// Export for use in other scripts
window.trans = trans;
