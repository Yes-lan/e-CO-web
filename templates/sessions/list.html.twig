{% extends 'base.html.twig' %}

{% block title %}{{ 'sessions.page_title'|trans }}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('assets/css/style.css') }}">
{% endblock %}

{% block body %}
    <div class="parcours-page">
        <div class="parcours-header">
            <h1>{{ 'courses.title'|trans }}</h1>
            <div class="parcours-header-actions">
                <div class="search-box">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="11" cy="11" r="8" stroke="#666" stroke-width="2"/>
                        <path d="M21 21l-4.35-4.35" stroke="#666" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input type="text" placeholder="{{ 'courses.search_placeholder'|trans }}" id="searchInput">
                </div>
                <button class="btn btn-primary" onclick="showCreateCourseModal()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="10" stroke="white" stroke-width="2"/>
                        <path d="M12 8v8M8 12h8" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    {{ 'courses.new_course'|trans }}
                </button>
            </div>
        </div>

        <div class="table-container">
            <table class="courses-table" id="coursesTable">
                <thead>
                    <tr>
                        <th>{{ 'courses.table.name'|trans }}</th>
                        <th>{{ 'courses.table.parcours'|trans }}</th>
                        <th>{{ 'courses.table.nb_participants'|trans }}</th>
                        <th>{{ 'courses.table.start_date'|trans }}</th>
                        <th>{{ 'courses.table.end_date'|trans }}</th>
                        <th>{{ 'courses.table.actions'|trans }}</th>
                    </tr>
                </thead>
                <tbody id="courseList">
                    {% if sessions|length > 0 %}
                        {% for session in sessions %}
                            {% include 'sessions/tile/session.html.twig' with { 'session': session } %}
                        {% endfor %}
                    {% endif %}
                </tbody>
            </table>
            
            <div class="table-footer">
                <div class="pagination-info">
                    {{ 'courses.table.max_per_page'|trans }}
                    <select id="itemsPerPage" onchange="changeItemsPerPage()">
                        <option value="8">8</option>
                        <option value="15">15</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                    </select>
                </div>
                <div class="pagination" id="pagination"></div>
            </div>
        </div>
    </div>


    {% block javascripts %}
        
    {% endblock %}
{% endblock %}
